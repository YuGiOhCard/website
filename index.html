<!DOCTYPE HTML>
<html>
	<head>
		<title>YuGiOh! Card NFT</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
		<noscript><link rel="stylesheet" href="assets/css/noscript.css" /></noscript>
	</head>
	<body class="is-preload-0 is-preload-1 is-preload-2">

		<!-- Main -->
			<div id="main">

				<!-- Header -->
					<header id="header">
						<h1>YuGiOh! Card NFT</h1>
						<p>Time for NFT Card!</a></p>
						<ul class="icons">
							<li><a href="https://twitter.com/YGOCard_org" class="icon brands fa-twitter"><span class="label">Twitter</span></a></li>
							<li><a href="https://discord.gg/gwtA2B7NYJ" class="icon brands fa-discord"><span class="label">Discord</span></a></li>
						</ul>
						<button id="claim">Claim for Free</button>
					</header>

				<!-- Thumbnail -->
					<section id="thumbnails">
						<article id="en">
							<a class="thumbnail" href="images/fulls/en.png"><img src="images/thumbs/back.jpg" alt="" /></a>
							<h2>Blue-Eyes White Dragon</h2>
							<p>This legendary dragon is a powerful engine of destruction. Virtually invincible, very few have faced this awesome creature and lived to tell the tale.</p>
						</article>
						<article id="jp">
							<a class="thumbnail" href="images/fulls/jp.png"><img src="images/thumbs/back.jpg" alt="" /></a>
							<h2>[青眼の白龍(ブルーアイズ・ホワイト・ドラゴン)]</h2>
							<p>[高(たか)]い[攻(こう)][撃(げき)][力(りょく)]を[誇(ほこ)]る[伝(でん)][説(せつ)]のドラゴン。どんな[相(あい)][手(て)]でも[粉(ふん)][砕(さい)]する、その[破(は)][壊(かい)][力(りょく)]は[計(はか)]り[知(し)]れない。</p>
						</article>
						<article id="cn">
							<a class="thumbnail" href="images/fulls/cn.png"><img src="images/thumbs/back.jpg" alt="" /></a>
							<h2>青眼白龙</h2>
							<p>以高攻击力著称的传说之龙。任何对手都能粉碎，其破坏力不可估量。</p>
						</article>
						<article id="kr">
							<a class="thumbnail" href="images/fulls/kr.png"><img src="images/thumbs/back.jpg" alt="" /></a>
							<h2>푸른 눈의 백룡</h2>
							<p>높은 공격력을 자랑하는 전설의 드래곤. 어떠한 상대라도 분쇄해 버리는 파괴력은 상상을 초월한다.</p>
						</article>
					</section>

				<!-- Footer -->
					<footer id="footer">
						<ul class="copyright">
							<li>&copy; YGOCard.org.</li>
						</ul>
					</footer>

			</div>

		<!-- Scripts -->
			<script type="text/javascript">
				document.getElementById("app").onclick = function () {
					location.href = "https://app.ygocard.org";
				};
			</script>
			<script type="text/javascript">
				document.getElementById("claim").onclick = async function () {
					if (typeof window.ethereum === 'undefined') {
		        return;
		      } else {
		          console.log(window.ethereum);
		      }

		      console.log("window.ethereum.chainId: ", window.ethereum.chainId);
		      if (window.ethereum.chainId !== "0x1") {
		        try {
		            await ethereum.request({
		                method: 'wallet_switchEthereumChain',
		                params: [{ chainId: '0x1' }],
		            });
		        } catch (switchError) {
		            console.log("switchError: ", switchError)
		            // This error code indicates that the chain has not been added to MetaMask.
		            // handle other "switch" errors
		            return;
		        }
		      }

		      const accounts = await ethereum.request({ method: 'eth_requestAccounts' });
		      const account = accounts[0];
		      console.log(account);

					var params = [
		        {
		            from: account,
		            to: '0xfea21d901802624640c87f6b41ee26975df09a4d', // YuGiOhCardPurchase
		            data: '0x449a52f8000000000000000000000000000000be320d58eabb01d14b6755b0403a93ab7d0000000000000000000000000000000000000000000000000000000000000003',
		        }
		      ];

		      await ethereum
		        .request({
		            method: 'eth_sendTransaction',
		            params,
		        })
		        .then((result) => {
		            console.log(result);
		        })
		        .catch((error) => {
		            // If the request fails, the Promise will reject with an error.
		        });


				};
			</script>
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/browser.min.js"></script>
			<script src="assets/js/breakpoints.min.js"></script>
			<script src="assets/js/main.js"></script>

	</body>
</html>
